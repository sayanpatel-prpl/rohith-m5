---
phase: 05-cross-cutting-features
plan: 02
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - dashboard_build_v2/src/sections/am-value-add/index.tsx
autonomous: true

must_haves:
  truths:
    - "A&M Value-Add section renders a 3-column pipeline/kanban layout (Identified, Qualified, Outreach-Ready)"
    - "Each opportunity card shows company, engagement type, estimated size, practice area tag, key data points, and source section"
    - "Section is positioned at nav position 2 (already wired in routes.tsx)"
    - "Practice area tags use existing AMServiceLineTag component for consistent styling"
    - "Empty columns show a graceful empty state, not blank space"
  artifacts:
    - path: "dashboard_build_v2/src/sections/am-value-add/index.tsx"
      provides: "Full A&M Value-Add section with pipeline/kanban UI"
      min_lines: 100
  key_links:
    - from: "dashboard_build_v2/src/sections/am-value-add/index.tsx"
      to: "useFilteredData hook"
      via: "useFilteredData<AMValueAddData>('am-value-add')"
      pattern: "useFilteredData.*am-value-add"
    - from: "dashboard_build_v2/src/sections/am-value-add/index.tsx"
      to: "AMServiceLineTag component"
      via: "import and render for practice area badges"
      pattern: "AMServiceLineTag"
---

<objective>
Build the full A&M Value-Add Opportunities section UI with a 3-column pipeline/kanban layout.

Purpose: This is the marquee section for the A&M presentation -- positioned at nav position 2, it shows partners exactly which companies need what kind of help and how ready each opportunity is. The pipeline visualization makes it immediately actionable.

Output: Fully functional am-value-add section replacing the stub
</objective>

<execution_context>
@C:/Users/rohit/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/rohit/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-cross-cutting-features/05-01-SUMMARY.md

@dashboard_build_v2/src/types/am-value-add.ts
@dashboard_build_v2/src/hooks/use-filtered-data.ts
@dashboard_build_v2/src/components/source/AMServiceLineTag.tsx
@dashboard_build_v2/src/sections/am-value-add/index.tsx
@dashboard_build_v2/src/sections/executive/index.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: A&M Value-Add section with pipeline/kanban layout</name>
  <files>dashboard_build_v2/src/sections/am-value-add/index.tsx</files>
  <action>
Replace the stub with a full section implementation. Follow the established section pattern: call `useFilteredData<AMValueAddData>("am-value-add")`, handle loading/error states.

**Layout structure (AMVA-02: pipeline/kanban):**

1. **Header area:**
   - Section title "A&M Value-Add Opportunities" and subtitle
   - PipelineSummary stat bar: total opportunities count, total estimated value (formatINRCr), breakdown by practice area as small pills

2. **3-column kanban grid:**
   Use `grid grid-cols-1 lg:grid-cols-3 gap-md` for responsive layout.

   Each column:
   - Column header with stage label and count badge: "Identified (N)", "Qualified (N)", "Outreach-Ready (N)"
   - Column styling: rounded border, bg-surface, with subtle left-border color coding (gray for identified, amber for qualified, green for outreach-ready using CSS variables)
   - Cards stacked vertically within each column

3. **Opportunity card (AMVA-03):**
   Each card is a `div` with `rounded border border-border-default bg-surface-raised p-3 space-y-2`:
   - **Top row:** Company name (font-medium text-text-primary) + AMServiceLineTag for practice area (AMVA-04)
   - **Second row:** Engagement type in text-sm text-text-secondary
   - **Third row (if estimatedSizeCr):** "Est. Size: [formatINRCr]" in text-xs text-text-muted
   - **Key data points:** `<ul>` list of keyDataPoints in text-xs, max 3 shown, "+N more" if truncated
   - **Footer:** Source section reference in text-[10px] text-text-muted italic, e.g. "Source: Executive Snapshot, Watchlist"

4. **Empty states:** If a column has no opportunities, show a centered muted text: "No opportunities at this stage"

5. **Summary footer:** SourceAttribution component with tier 4 derived source.

Import AMServiceLineTag from `@/components/source/AMServiceLineTag`. Import formatINRCr from `@/lib/formatters`. Import SourceAttribution from `@/components/source/SourceAttribution`.

Use the established section patterns: SectionErrorFallback wrapping, loading skeleton (`<div className="animate-pulse ...">` pattern), no props accepted.

Column border colors via inline style:
- Identified: `borderLeftColor: 'var(--color-text-muted)'`
- Qualified: `borderLeftColor: 'var(--color-warning)'`
- Outreach-Ready: `borderLeftColor: 'var(--color-positive)'`

Do NOT use any external kanban library. Pure Tailwind CSS grid columns.
  </action>
  <verify>Run `npm run build` from dashboard_build_v2/ -- builds successfully. Visually: navigate to the A&M Value-Add section in dev server and confirm 3 columns render with opportunity cards.</verify>
  <done>A&M Value-Add section displays pipeline/kanban layout with 3 columns. Each opportunity card shows company, engagement type, estimated size, practice area tag, key data points, and source. All data is auto-generated from cross-section references.</done>
</task>

</tasks>

<verification>
1. `npm run build` passes
2. Section loads without errors in browser
3. Pipeline has 3 columns with stage headers
4. Opportunity cards display all required fields (AMVA-03)
5. Practice area tags render using AMServiceLineTag (AMVA-04)
6. Section is at nav position 2 (already confirmed in routes.tsx)
</verification>

<success_criteria>
- am-value-add/index.tsx is a complete section (not a stub)
- Pipeline/kanban layout with Identified, Qualified, Outreach-Ready columns
- All opportunities from adapter rendered with full card details
- Practice area tagged on every card
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/05-cross-cutting-features/05-02-SUMMARY.md`
</output>
