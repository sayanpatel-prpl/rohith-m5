---
phase: 05-cross-cutting-features
plan: 03
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - dashboard_build_v2/src/sections/what-this-means/index.tsx
autonomous: true

must_haves:
  truths:
    - "What This Means For section renders 4 tabs: PE/Investors, Founders, COOs/CFOs, Supply Chain Heads"
    - "Each tab shows sourced insights with A&M Recommended Service tag"
    - "Each insight referencing another section has a clickable link navigating to that section"
    - "PE/Investors tab includes Talk vs Walk disconnect insights (TVW-05)"
    - "All 4 tabs populated with real cross-section data, not placeholders"
  artifacts:
    - path: "dashboard_build_v2/src/sections/what-this-means/index.tsx"
      provides: "Full What This Means For section with 4-tab UI"
      min_lines: 120
  key_links:
    - from: "dashboard_build_v2/src/sections/what-this-means/index.tsx"
      to: "useFilteredData hook"
      via: "useFilteredData<WhatThisMeansData>('what-this-means')"
      pattern: "useFilteredData.*what-this-means"
    - from: "dashboard_build_v2/src/sections/what-this-means/index.tsx"
      to: "React Router navigation"
      via: "useNavigate or Link for cross-section navigation"
      pattern: "useNavigate|<Link|navigate\\("
    - from: "dashboard_build_v2/src/sections/what-this-means/index.tsx"
      to: "AMServiceLineTag component"
      via: "import for recommended service badges"
      pattern: "AMServiceLineTag"
---

<objective>
Build the full What This Means For section UI with 4 stakeholder tabs and cross-navigable insights.

Purpose: This section translates raw intelligence into stakeholder-specific implications. Each tab (PE/Investors, Founders, COOs/CFOs, Supply Chain Heads) surfaces the most relevant insights for that audience with actionable links back to source sections. It makes the dashboard useful for different personas in a meeting.

Output: Fully functional what-this-means section replacing the stub
</objective>

<execution_context>
@C:/Users/rohit/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/rohit/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-cross-cutting-features/05-01-SUMMARY.md

@dashboard_build_v2/src/types/what-this-means.ts
@dashboard_build_v2/src/hooks/use-filtered-data.ts
@dashboard_build_v2/src/components/source/AMServiceLineTag.tsx
@dashboard_build_v2/src/sections/what-this-means/index.tsx
@dashboard_build_v2/src/app/routes.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: What This Means For section with 4 stakeholder tabs</name>
  <files>dashboard_build_v2/src/sections/what-this-means/index.tsx</files>
  <action>
Replace the stub with a full section implementation. Follow established section pattern: `useFilteredData<WhatThisMeansData>("what-this-means")`, handle loading/error states.

**Layout structure:**

1. **Header area:**
   - Section title "What This Means For..." and subtitle "Stakeholder-specific intelligence insights"
   - Tab summary bar showing count per tab as small stat badges

2. **Tab navigation (WTMF-01):**
   Use a horizontal tab bar with 4 tabs, managed by `useState<StakeholderTab>("pe-investors")`.
   Tab labels from `data.tabs` array: "PE/Investors", "Founders", "COOs/CFOs", "Supply Chain Heads".

   Tab button styling: `text-sm font-medium px-4 py-2 border-b-2 transition-colors`. Active tab: `border-brand-accent text-brand-accent`. Inactive: `border-transparent text-text-muted hover:text-text-primary`.

3. **Insight cards (per active tab):**
   Filter `data.insights` by `activeTab`. Each insight renders as a card:

   ```
   div.rounded.border.border-border-default.bg-surface-raised.p-4.space-y-2
     Top row: headline (font-medium text-text-primary) + AMServiceLineTag (WTMF-02)
     Detail: text-sm text-text-secondary (the full explanation)
     Companies: if companyIds.length > 0, show as comma-separated text-xs text-text-muted
     Footer: Cross-navigation link (WTMF-03)
   ```

4. **Cross-navigation links (WTMF-03):**
   Each insight has `linkedSectionId` and `linkedSectionLabel`. Render as a clickable link that navigates to that section.

   Use `useNavigate` from react-router-dom and the current tenant slug from `useParams`. The link navigates to `/${tenantSlug}/report/${linkedSectionId}`.

   Link styling: `text-xs text-brand-accent hover:underline cursor-pointer inline-flex items-center gap-1`. Prefix with a right-arrow character "->".

   Example: "-> View in Executive Snapshot"

5. **PE/Investors tab specifics (TVW-05):**
   The PE/Investors tab includes Talk vs Walk disconnect insights generated by the adapter (from executive narrativeRisks with disconnect="red"). These appear as insight cards like any other, with their cross-nav link pointing to the executive section. No special rendering needed -- the adapter already tagged them with the right fields.

6. **Empty state per tab:** If no insights for active tab, show: "No insights available for this stakeholder group"

7. **Footer:** SourceAttribution with tier 4 derived source.

Import `useNavigate, useParams` from `react-router-dom`. Import `AMServiceLineTag` from `@/components/source/AMServiceLineTag`. Import `SourceAttribution` from `@/components/source/SourceAttribution`.

Use the SECTION_ROUTES from `@/app/routes.tsx` only if needed for label lookup -- but the adapter already provides `linkedSectionLabel` so direct usage is fine.

Do NOT use any tab library. Pure HTML buttons with state management.
  </action>
  <verify>Run `npm run build` from dashboard_build_v2/ -- builds successfully. Visually: navigate to the What This Means For section in dev server and confirm 4 tabs render, switching between them shows different insights, and cross-nav links navigate correctly.</verify>
  <done>What This Means For section displays 4 tabs with stakeholder-specific insights. Each insight shows headline, detail, recommended A&M service tag, and clickable cross-section link. PE/Investors tab includes Talk vs Walk disconnects. All tabs populated with real data.</done>
</task>

</tasks>

<verification>
1. `npm run build` passes
2. Section loads without errors in browser
3. All 4 tabs render and switch correctly
4. Each tab shows insight cards with AMServiceLineTag badges (WTMF-02)
5. Cross-navigation links are clickable and navigate to correct sections (WTMF-03)
6. PE/Investors tab includes narrative disconnect insights (TVW-05)
</verification>

<success_criteria>
- what-this-means/index.tsx is a complete section (not a stub)
- 4 tabs all populated with real cross-referenced insights
- Recommended service tags on every insight card
- Cross-navigation links functional
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/05-cross-cutting-features/05-03-SUMMARY.md`
</output>
